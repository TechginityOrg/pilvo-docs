---
hide_title: true
hide_table_of_contents: true
sidebar_label: "List All Messages"
slug: /messaging/api/message/list-all-messages
---

import CustomLayout from '@site/src/components/CustomLayout';

<CustomLayout>
  ## List all messages

  This API retrieves a list of Message Detail Records (MDR) based on a filter criteria over the last 90 days.

  <div class="notice-box-response"><p><strong>Note:</strong> The default rate limit for this API is 20 requests per minute. If the rate limit is exceeded, the following error would be thrown: "too many requests"</p></div>

  #### API Endpoint

  <div class="badge-combined-api"><code class="badge-primary-api">GET</code> <code class="badge-secondary-api"><span>https://api.plivo.com/v1/Account/{auth_id}/Message/</span></code></div>

  ### Arguments

  <table class="table table-striped table-markdown">
    <tbody>
      <tr>
        <td class="text-right"><strong class="name">subaccount <span>string</span></strong></td>
        <td>
          <p>Filters for</p>
          <ul>
            <li><p>Outbound messages sent using a specific subaccount’s Auth Token.</p></li>
            <li><p>Inbound messages received on a phone number associated with a specific subaccount.</p></li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="notice-box-response"><p><strong>Note:</strong> The subaccount filter is implicitly applied when a subaccount’s API credentials are used to fire this API. This argument should be used only when the parent account’s API credentials are used to fire this API.</p></div>

  <table class="table table-striped table-markdown">
    <tbody>
      <tr>
        <td class="text-right"><strong class="name">message_direction <span>string</span></strong></td>
        <td>
          <p>Filters the results by message direction. Allowed values: <mark>inbound</mark>, <mark>outbound</mark></p>
        </td>
      </tr>
      <tr>
        <td class="text-right"><strong class="name">message_time</strong></td>
        <td>
          <p>Filters outbound and inbound messages based on the time the message was initiated or received.</p>
          <p>Timestamps are expected to be in YYYY-MM-DD HH:MM[:ss[.uuuuuu]] format, and are considered to be in UTC time zone.</p>
          <p>If you do not specify this attribute, the MDR for the last 24 hours will be retrieved by default.</p>
          <p>The filter can be used in five forms:</p>
          <ul>
            <li><p><mark>message_time</mark>: Use this argument to filter for messages by exact timestamp. The format expected is YYYY-MM-DD HH:MM:ss:uuuuuu.</p></li>
            <li><p><mark>message_time__gt</mark>: <mark>gt</mark> stands for greater than. Use this argument to filter for messages sent or received after a given time.</p></li>
            <li><p><mark>message_time__gte</mark>: <mark>gte</mark> stands for greater than or equal to. Use this argument to filter for messages sent or received after or exactly at a given time.</p></li>
            <li><p><mark>message_time__lt</mark>: <mark>lt</mark> stands for less than. Use this argument to filter for messages sent or received before a given time.</p></li>
            <li><p><mark>message_time__lte</mark>: <mark>lte</mark> stands for less than or equal to. Use this argument to filter for messages sent or received before or exactly at a given time.</p></li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="notice-box-response"><strong>Note:</strong> You can combine the above filters to get messages that were sent or received in a particular time range.</div>

  <table class="table table-striped table-markdown">
    <tbody>
      <tr>
        <td class="text-right"><strong class="name">message_state <span>string</span></strong></td>
        <td>
          <p>Filter results by the current status of a message. Allowed values: <mark>queued</mark>, <mark>sent</mark>, <mark>failed</mark>, <mark>delivered</mark>, <mark>undelivered</mark>, <mark>received</mark>, <mark>rejected</mark></p>
        </td>
      </tr>
      <tr>
        <td class="text-right"><strong class="name">message_type <span>string</span></strong></td>
        <td>
          <p>Filter results by the type of message. Allowed values: <mark>sms</mark>, <mark>mms</mark>, <mark>whatsapp</mark></p>
        </td>
      </tr>
      <tr>
        <td class="text-right"><strong class="name">error_code <span>string</span></strong></td>
        <td>
          <p>Filter results by a standard <a href="/docs/messaging/troubleshooting/error-codes/">Plivo error code</a>.</p>
        </td>
      </tr>
      <tr>
        <td class="text-right"><strong class="name">powerpack_id <span>string</span></strong></td>
        <td>
          <p>Filter results based on messages sent using a specific Power pack.</p>
        </td>
      </tr>
      <tr>
        <td class="text-right"><strong class="name">from_number <span>string</span></strong></td>
        <td>
          <p>Filters results by the number or sender ID from which the messages were sent using Plivo APIs.</p>
        </td>
      </tr>
    </tbody>
  </table>

  ### Returns

  This API returns a list of Message Detail Records matching the filters specified in the request.

  The API response also contains a `meta` field with the fields:
  - `limit`: the size of the page returned in the response
  - `offset`: the offset for the page returned in the response
  - `next`: the URL that points to the next page of results
  - `previous`: the URL that points to the previous page of results

 
 </CustomLayout>